<!DOCTYPE html>
<html lang="pt-br">
<head>
    <title>Retro Game Station - Win98</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="./game.css">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>

<div class="window-wrapper">
    <div class="title-bar">
        <div class="title-bar-text" id="windowTitle">Carregando...</div>
        <div class="title-bar-controls">
            <button aria-label="Minimize"></button>
            <button aria-label="Maximize"></button>
            <button aria-label="Close"></button>
        </div>
    </div>

    <div class="window-body">
        <div id="game-root">
            <div style="text-align:center; padding: 20px;">
                Selecione um jogo na URL.<br>
                Exemplo: index.html?jogo=pong
            </div>
        </div>
    </div>
</div>

<script>
    // SISTEMA DE CARREGAMENTO DE JOGOS (Game Loader)
    
    function carregarScriptDoJogo() {
        // 1. Pega o parâmetro da URL (ex: ?jogo=pong)
        const params = new URLSearchParams(window.location.search);
        const nomeJogo = params.get('jogo'); // se vier "pong", carrega "pong.js"

        if (!nomeJogo) return; // Se não tiver jogo, não faz nada

        // 2. Cria a tag script dinamicamente
        const script = document.createElement('script');
        script.src = `./${nomeJogo}.js`; // Assume que o arquivo chama pong.js
        
        script.onload = function() {
            console.log(`Jogo ${nomeJogo} carregado com sucesso.`);
            // O arquivo JS do jogo deve chamar automaticamente sua função de início
            // ou podemos padronizar uma função aqui, ex: window.Game.init();
        };

        script.onerror = function() {
            document.getElementById('game-root').innerHTML = 
                "<p style='color:red; text-align:center'>Erro ao carregar o jogo: " + nomeJogo + "</p>";
        };

        document.body.appendChild(script);
    }

    // Inicia o processo
    window.onload = carregarScriptDoJogo;
</script>

</body>
</html>